## Lesson Introduction
---
In addition to equipment that uses a standard operating system, there are also various specialized systems that are susceptible to attack. A thorough penetration test will include an assessment of the Internet of Things (IoT) devices, data storage systems, and virtualized environments. It’s important to recognize not only the vulnerabilities, but the possible attacks on these systems. In addition, you should be familiar with the tools used to test these devices.

## Lesson Objectives
---
In this lesson, you will:

- Illustrate the many vulnerabilities of IoT devices, along with the variety of attacks that can be used to gain access to the device.
- Recognize other vulnerable systems and associated vulnerabilities that include network exposure, management interface vulnerabilities, and underlying software vulnerabilities.
- Summarize vulnerabilities related to virtual machines and virtual environments.

## Topic 12A - Identify Attacks on the IoT
---
> [!note] Exam Objectives Covered
> *3.5 Explain common attacks and vulnerabilities against specialized systems.*

The Internet of Things represents the billions of devices that are all around us, such as smart watches, doorbells, refrigerators, cars, and cameras. Today, there are over eight IoT devices _for every human on earth_ that are talking to us and to each other.

While the IoT holds exciting promise, it’s important to recognize the fact that many IoT devices have several vulnerabilities which can lead to an attack. In this section, we’ll gain a better understanding of the IoT along with the attack surface in the ecosystem. We’ll then take a look at common vulnerabilities, along with some of the possible attacks that can occur when using an IoT device.

Let’s start with an overview of the IoT.

### Discovering the IoT
---
The term "Internet of Things" is used to describe the global network of devices, such as phones, tablets, fitness trackers, home appliances, control systems, and vehicles. In this section, we’ll discuss the IoT in general, along with reviewing the components that make up an IoT device. We’ll then explore the IoT attack surface, where a malicious actor can interact and potentially compromise the infrastructure.

Let’s start by learning the many ways the IoT has now become a part of our lives.

#### Understanding the IoT
An IoT device is equipped with sensors, software, and network connectivity. Each device (or thing) is identified with either a unique serial number or code embedded within its own operating or control system. Most are able to operate within the existing Internet infrastructure, either directly or via an intermediary, such as a gateway device. IoT devices can communicate and pass data in one of two ways:

- **Machine-to-machine (M2M)**—communication between the IoT device and other traditional systems such as a server or gateway
- **Machine-to-person (M2P)**—communication between the IoT device and the user

IoT devices, such as a smart TV, are appliances with integrated computer functionality that includes apps, storage, and networking. Custom smart device apps on a TV might implement social networking or games, while apps for a refrigerator might have an interactive shopping list or alert when supplies are low. Home automation technology makes heating, lighting, alarms, and appliances all controllable through a network interface or device with voice control functionality.

Next, let’s see what’s involved when producing an IoT device.

#### Manufacturing an IoT Device
Most smart devices use a Linux or Android kernel. Because it’s essentially a microcomputer with limited functionality, IoT devices can be vulnerable to many of the standard attacks associated with web applications and network functions.

<mark style="background: #FFF3A3A6;">Home automation products often use vendor-specific software and networking protocols. However, many IoT devices have a fragile environment with an amalgamation of components, from a variety of vendors.</mark> Security features can be poorly documented, and patch management/security response processes of vendors can be inadequate.

During selection, most consumers have little influence over the elements that make up the device. The components could have preloaded malware or even backdoor access to the device. Additionally, during manufacturing, the vendor might use insecure or even outdated components, which also represents a vulnerability. As a result, IoT devices must not be allowed on the network without a process to validate, manage, and monitor them.

Next, let’s see what’s involved in the IoT attack surface.

#### Analyzing the IoT Attack Surface
An attack surface represents any known or unknown weaknesses across an entry point, such as software, hardware, network, and users. IoT devices can include everything from health devices and home automation systems to Integrated Control & Safety System (ICSs). Most have external connectivity to the wider world, along with many more "things" in between, as shown in the graphic:
![[Pasted image 20240605143641.png | 500]]
*IoT ecosystem*

The attack surface is all the points at which an adversary could interact with the system and launch an attack. For example, we see the following elements that can potentially be compromised:

1. The IoT device, such as an automobile, health monitor, or camera
2. The method to connect with cloud resources
3. The application programming interface (APIs), along with protocols, such as Message Queuing Telemetry Transport (MQTT), Constrained Application Protocol ( _CoAP_ ), and custom interfaces
4. The business logic and decision engines along with data storage
5. The interface or app to monitor or control the device

As we can see, there are many areas in the rapidly growing IoT attack surface that can have one or more vulnerabilities, which can lead to an attack on the infrastructure.

Next, let’s review some of the IoT vulnerabilities.

### Outlining Vulnerabilities
---
IoT devices are notorious for their poor security, and several major exploits have been seen in the wild.

The devices can have vulnerable components that can be exploited by a malicious actor to gain access to the infrastructure. In addition, vulnerabilities can lead to data leakage of sensitive information. First, let’s investigate how each IoT device is comprised of several components, many of which can be vulnerable.

#### Understanding Component Weaknesses
The IoT provides a unique opportunity for manufacturers to build devices with the ability to communicate and perform specialized functions. However, because of the lack of rigorous testing, many devices have several insecure defaults that come preconfigured, such as the username and password. In many cases, the manufacturer has hard-coded these credentials and made them very difficult or impossible to remove. This can be dangerous, as once a malicious actor knows the type of device that is in use, they can then research the default username and password online. As a result, the team should research the default credentials for each IoT product you target during the PenTest.

In addition to default passwords, it’s important to be familiar with vulnerabilities that can be present in an IoT device when testing. Other issues include:

- **Lack of physical security**—the small devices (such as IP cameras) can be located in several areas, many in plain sight. Unless access is restricted, these devices can be damaged or stolen.
- **Hard-coded configurations**—such as the device configured to phone home as soon as the device is activated.
- **Outdated firmware/hardware**—many IoT devices do not ever receive updates to the system. Even if an update is available, the device may not have an option to automatically update.
- **Poorly designed code**—can lead to an attack that can include buffer overflows, SQL injection, SYN flood, and privilege escalation.

> [!warning] You can visit [https://wiki.owasp.org/index.php/OWASP_Internet_of_Things_Project#tab=IoT_Top_10](https://wiki.owasp.org/index.php/OWASP_Internet_of_Things_Project#tab=IoT_Top_10) for a list of the Top 10 IoT vulnerabilities.

Next, let’s see how poorly secured IoT devices can result in the exposure of sensitive data.

#### Leaking Sensitive Data
Many IoT devices do not natively use encryption. As a result, any communication is transmitted in cleartext. When a device transmits sensor reports to either the gateway or server in plain text, this can allow anyone to intercept and read or modify the contents.

Many IoT devices use Bluetooth, a short-range wireless technology used to exchange data between personal devices, such as smartphones, laptops, printers, and peripheral devices. ***Bluetooth Low Energy (BLE)*** is similar in that it is used to communicate wirelessly over short distances; however, it uses less energy.

BLE devices have become popular and the technology is used in many different devices, such as smart home devices, motion sensors, and smart outlets. BLE is optimal for this type of device as it only transfers a small amount of data at a time with minimum power requirements.

Although a popular technology, BLE devices can leak sensitive data. Malicious actors can capture data that is in cleartext and result in data leakage, which can expose the following:

- Discover the device model, software, and version
- Monitor smart home activities
- Gather e-mail addresses and phone numbers
- Eavesdrop voice assistant commands

BLE devices only transmit in a short range, which can make PenTesting the device difficult. However, because of the widespread use of BLE devices, it’s best to include an assessment of devices that use BLE in the PenTest.

While it’s obvious that IoT devices are vulnerable, we must also be aware of the attacks that involve IoT devices.

### Triggering an Attack
---
In addition to the potential for an IoT device being attacked, a device can be weaponized to launch an assault, such as a Denial-of-service attack. In addition, malicious actors are now seeking ways to leverage IoT protocols, such as CoAP and MQTT, to launch an attack.

Let’s see how it’s possible to weaponize an IoT device.

#### Weaponizing an IoT Device
If a device is vulnerable, a malicious actor can infect an IoT device with malware and then turn the device into a zombie. Once infected, the device will wait for instructions from the command-and-control server to launch a Denial-of-service attack on a target.

One example is the Mirai bot, which was malware that spread to thousands of IoT devices like IP cameras and baby monitors that still had their default credentials set. These infected devices formed a large botnet that triggered several high-profile DoS attacks, including taking down name servers operated by Dyn, a DNS provider for Amazon, Twitter, GitHub, and other large companies.

When dealing with an IoT device, one concern is that of availability. Next, let’s see how we can render an IoT device useless by not allowing it to have a rest cycle.

#### Denying Sleep
IoT devices are small and have minimal power reserves using a small battery. If a device can be accessed without authorization, a malicious actor can launch a Denial of Sleep attack. This attack continuously sends signals to the device, requiring the device to (continuously) respond and prevents the device from resting or sleeping, which then drains the battery.

Once a malicious actor has modified the integrity of an IoT device, this can lead to either data corruption, where the contents are modified in transit or exfiltration, or where the data leaves the device in an unauthorized manner.

IoT devices connect with one another using Wi-Fi, Bluetooth, and Near Field Communication (NFC). Many times, they use lightweight protocols to communicate with one another. However, IoT protocols can be vulnerable as well.

#### Leveraging the Protocols
While an IoT device can be exploited, some attacks directly leverage vulnerable protocols. Two commonly used open-source protocols that can suffer from attacks include ***Constrained Application Protocol*** and ***Message Queuing Telemetry Transport***.

CoAP works within a constrained network to transfer data in a number of different devices. CoAP uses UDP as a transport layer protocol and, as a result, could benefit from using ***Datagram Transport Layer Security (DTLS)*** to improve security. However, there isn’t any method to provide security for group communication.

Some common attacks to CoAP include:
- A **coercive parsing attack, which** will attempt to exhaust system resources by sending a ***Simple Object Access Protocol (SOAP)*** message with multiple open tags in the body, as shown in the graphic:
![[Pasted image 20240610141055.png]]
*Code used in parsing attack*

- **Spoofing** is possible because UDP does not use a handshake, and a rogue endpoint can read and write messages. This can have a greater implication, for example, when getting the device to accept malicious code
- **Packet amplification** is an attack where a malicious actor will first search for a list of abusable IP addresses. Once obtained, the next step is to send a flood of UDP packets to a DNS server where the source IP address is set as the victim. <mark style="background: #FF5582A6;">A DNS response is always larger than the request.</mark> The flood of responses results in packet (and bandwidth) amplification.

***Message Queuing Telemetry Transport (MQTT)*** carries messages between devices. <mark style="background: #FFF3A3A6;">MQTT uses authentication when communicating with other devices; however, the data is not encrypted and can be vulnerable to an attack.</mark>

Some of the threats to MQTT include:

- **Sniffing,** which is possible because the data is not encrypted and can be captured and read as it passes between the devices, which is an attack on confidentiality.
- **Data modification,** which can occur if a malicious actor obtains the traffic while data is being transferred between devices during a MiTM attack. The malicious actor can then modify the data, which is an attack on integrity.
- **Joining a botnet,** using Shodan, a malicious actor can search for and poison unsecured IoT devices using MQTT so they can become a part of a botnet. This can lead to an attack on availability.

The team must keep in mind if planning an invasive attack, such as a Denial of Service (DoS attack), as part of the testing, to have the stakeholder define any restrictions that might impact fragile systems.

## Topic 12B - Recognize Other Vulnerable Systems
---
> [!note] Exam Objectives Covered
> *3.5 Explain common attacks and vulnerabilities against specialized systems.*

Within an organization, there are many times other specialized systems might be included in the PenTest exercise. In this section, we’ll outline commonly employed data storage systems and control systems, along with some of the vulnerabilities that can exist.

First, let’s review some of the ways we store data.

### Understanding Data Storage Systems
---
In addition to cloud storage, an organization might have on-premises storage systems within a data center.

A ***data center*** is a large group of servers that provides storage, processing, and distribution of critical company data for the network clients. It’s the heart of any enterprise network and is located in a central location, generally in a secure computer or server room. Company data is accessed in one of several ways, as shown in the graphic:
![[Pasted image 20240610145316.png]]
*Data storage system*

Storage examples include:

- **Direct Attached Storage (DAS)** <mark style="background: #FFF3A3A6;">is storage attached to a system such as a hard drive in a server, instead of being accessed over the network.</mark>
- **Network Attached Storage (NAS)** <mark style="background: #FFF3A3A6;">is a group of file servers attached to the network dedicated to provisioning data access.</mark>
- **Storage Area Network (SAN)** <mark style="background: #FFF3A3A6;">is a separate subnetwork typically consisting of storage devices and servers that house a large amount of data.</mark>

Many times, a data center will house one or more SANs and will most likely have cloud backup for redundancy.

The configuration of the data center is to isolate the servers in a separate _subnetwork_ and provide a central location to manage access to the servers. Network administrators can then secure, filter, and prioritize traffic.

Because of the wide variety of storage options, it’s easy to overlook weaknesses that may be obvious to a malicious actor that can lead to compromise. As a result, it’s essential to inventory and test sensitive storage systems during the PenTest.

In addition to data storage systems, an organization may also have control systems in place. Let’s explore this concept next.

### Securing Control Systems
---
An industrial control system (ICS) is any system that enables users to control industrial and critical infrastructure assets over a network. A Supervisory control and data acquisition (SCADA) system is a type of ICS that manages large-scale, multiple-site devices and equipment that are spread over geographically large areas from a host computer.

A related concept is the **Industrial Internet of Things (IIoT) or Industry 4.0**, which can optimize the way SCADA handles data. IIoT is a complement to a SCADA system as it merges the control functionality with the data collecting ability of an IoT device. IoT devices collect a large volume of data, that can be used in the following ways:

- Make logic decisions when controlling systems
- Make business decisions when projecting future needs.

One of the roles of an ICS is that it can control critical infrastructure resources, such as water, electrical grids, transportation, telecommunication, and health services. If critical infrastructure resources are damaged or destroyed, this will cause significant negative impact to the economy, public health, safety, and security of a society.

Many ICSs were established years before security standards were established, and as a result, are considerably outdated. As more ICSs are being incorporated into an organization's TCP/IP network, there is greater opportunity for exploitation.

For either storage systems or ICS, there can be many issues that can lead to an attack.

### Identifying Vulnerabilities
---
When a system is not properly secured, this can leave the data vulnerable to an attack that includes:

- Denial of Service
- Virus and malware
- Social engineering
- Physical attack

A malicious actor can gain access to a system in one of several ways. Next, let’s review some of the vulnerabilities common to either storage systems or ICS.

#### Leaving Data Exposed
We know that there may be underlying software vulnerabilities such as SQL injections or cross-site scripting (XSS) that can lead to data compromise. However, in some cases, vulnerabilities exist as a result of human error along with improper or missing configurations. For example, leaving the username and password as the default or blank can leave your system open to an attack.

Another issue that can expose a system to an attack is management interface vulnerabilities. When running an enterprise network, it’s common to use an application, such as an ***Intelligent platform management interface (IPMI)***. This enables the admin to more easily monitor and control servers on a centrally located interface. When correctly configured, this restricts access so that only authorized individuals can access management functions. However, if the management interface is not correctly configured, this can expose the network, which can provide a malicious actor with the ability to have direct access to the data.

Another concern that should be addressed is the way errors are handled.

#### Handling Errors
When writing code or configuring a system, a programmer might include error messages that can help during the troubleshooting process. However, in some cases, error messages might provide too much detail, and a malicious actor can use the information to leverage an attack.

Error and debug messages can expose user credentials, software version, and configuration settings. For example, the following error message will provide the full pathname:
`warning.setText("WARNING: Could not connect to management server at " + fullpathname)`

This information could lead to a Directory Traversal attack, which can allow access to commands, files, and directories that may or may not be connected to the web document root directory.

While error messages are beneficial when getting to the root of the problem, the end user does not have to have that level of detail. A better approach would be to offer minimal information, for example by displaying the following:

`"Unable to connect, please contact support."`

Because security misconfigurations and software vulnerabilities can enable multiple exploits, its essential that vulnerabilities are tested and mitigated. One way to test a system is by using fuzzing. Let’s see what’s involved next.

#### Fuzzing the System
One technique to see if there are any misconfigurations is by fuzzing the system, which sends a running application random and unusual input and monitor how the app responds.

When setting up the fuzzer, the team can select what objects are to be tested. Selections can include:

- Configuration files
- Source code files
- Logs and archives
- Documents and web files

Once run, the fuzzer will search for objects and report the findings, as shown in the table:

|        **URL**         | **Summary**                     |
| :--------------------: | ------------------------------- |
|  `/example/login.php`  | Admin login page/section found. |
| `/example/.git/config` | Git config file found.          |
|   `/example/config`    | Directory indexing located.     |
*Report presented after running fuzz test*

While fuzzing will help identify many vulnerabilities, another approach is to use feedback-based fuzzing. This type of fuzzing is a more interactive method that can identify SQL injection vulnerabilities.

## Topic 12C - Explain Virtual Machine Vulnerabilities
---
> [!note] Exam Objectives Covered
> *3.5 Explain common attacks and vulnerabilities against specialized systems.*

Virtualization is the process of creating a simulation of a computing environment. A virtualized system can simulate the hardware, operating system, and applications of a typical system without being a separate physical computer. In this section, we’ll take a look at virtualized environments along with some of the vulnerabilities they face. We’ll then finish by covering some attacks to virtualized environments.

First, let’s see what’s involved in a virtual environment.

### Outlining Virtual Environments
---
Using virtualization, multiple operating systems can be installed and run simultaneously on a single computer. A virtual platform requires at least three components:

- **Host hardware**—represents the platform that will host the virtual environment.
- **Hypervisor/Virtual Machine Monitor (VMM)**—manages the virtual machine environment and facilitates interaction with the computer hardware and network.
- **Guest operating systems (Virtual Machines or instances)**—represent the operating systems installed under the virtual environment.

One basic distinction that can be made between virtual platforms is whether to use a host or bare metal method of interacting with the hardware. Let’s see how a host-based model works.

#### Using a Host-Based Model
One commonly used virtualization method is a host-based model, where a Type II hypervisor is installed onto a host operating system. Any virtual machines that are created are a guest and ride on top of the native operating system, as shown in the graphic:
![[Pasted image 20240610150632.png | 600]]
*Guest OS virtualization or Type II Hypervisor*

Examples of host-based hypervisors include VMware Workstation, Oracle Virtual Box, and Parallels Workstation.

In contrast to the host-based model, a bare metal model isn’t riding on top of the native OS. Instead, the virtualization software is installed directly on the hardware.

#### Employing a Bare Metal Model
In an enterprise network, it’s common to use a bare metal virtual platform. In this model, the Type I hypervisor is installed directly onto the hardware and manages access to the host hardware without going through a host OS, as shown in the graphic:
![[Pasted image 20240610150700.png | 600]]
*Bare metal or Type I Hypervisor*

Once the hypervisor is installed, the VMs can be installed. The resources are then managed by the hypervisor.

Type I hypervisor applications include VMware ESXi Server, Microsoft's Hyper-V, and Citrix's XEN Server. During hardware selection, you’ll need to do some planning. The system will need the resources that are necessary to support the base system requirements _plus_ resources for the type and number of guest OSes that will be installed.

### Recognizing Vulnerabilities
---
Securing a virtual environment is not that much different from managing a physical infrastructure. The same basic principles apply and many of the same tools are used to monitor security issues. However, in a virtualized environment, administration takes place at two levels:

- Within the hypervisor, which is the software or firmware that creates and manages virtual machines on the host hardware.
- Within the virtual machine, which is a guest operating system installed on a host computer using a hypervisor, such as Microsoft Hyper-V or VMware.

Each level introduces additional considerations for assigning administrative responsibilities. Procedures include using security configuration templates, patch management procedures, and inclusion in intrusion detection and audit regimes.

When VMs are poorly configured for security, they're exposed to many of the same issues as a physical machine. One issue that can make security issues more complex is VM sprawl. Let’s see why it’s best to avoid this situation.

#### Avoiding VM Sprawl
VMs are designed to be quickly replicated and provisioned over many instances. Therefore, a misconfiguration in just one base image will propagate throughout your infrastructure, resulting in a much larger impact.

***VM sprawl*** refers to creating VMs without proper change control procedures, which can create a vulnerable environment. If an attacker gains unauthorized access to the VM's management interface, they can essentially take full control of all attached virtual systems.

It’s best to avoid VM sprawl and put in place proper VM management techniques. Virtual instances will need to be patched from time to time. Additionally, if a security fix needs to be applied to a physical host, especially a fix updating the hypervisor, this can cause disruptions for the virtual environments it runs. It is important that patch management procedures be adhered to, even if they involve some disruption to users.

A process must be in place to manage these changes, to ensure that all instances receive the fix as quickly as possible with minimal interruption.

#### Protecting Repositories
A VM repository is a location that is used to store VM templates or images and contains the configuration files used to create additional VMs. As a result, it’s essential to protect the repository.

Consider the following, if a template has malware, when new VM’s are generated from the infected template, this then could propagate throughout the organization.

In addition, it’s important to understand that the security capabilities of virtual networking appliances may differ between vendors or configurations. For example, virtual switches in certain modes may not behave fully like physical switches, in that they may fail to isolate traffic between hosts within a virtual network. As a result, an attacker inside one VM may be able to sniff all traffic from another VM on the same virtual switch.

VM repositories that are compromised are called bad repositories. This can happen in a couple of different ways:
- Intentionally uploading an infected template to the repository by a malicious actor
- Unintentionally uploading a misconfigured template to the repository by a non-malicious user

Repositories should be protected and monitored for malware and/or misconfiguration. In addition, use caution when using cloud-based or shared repositories, as they can be compromised, and the effect will be propagated throughout the VM environment. 

Vulnerabilities also exist within containerized workloads.

#### Monitoring the Containers
Cloud file storage containers are referred to as buckets or blobs. A container is created within a specific region and cannot be nested within another container. <mark style="background: #FFF3A3A6;">Each container can host data objects, which is the equivalent of files in a local file system.</mark> In addition, a container can have customizable metadata attributes. Containers improve efficiency as they provide an agile method of provisioning resources.

Application cell/container virtualization, which differs from cloud file storage containers, dispenses with the idea of a hypervisor and instead enforces resource separation at the operating system level. As shown in the graphic, we see the Docker Engine on the right as opposed to the hypervisor on the left in the virtualized environment:
![[Pasted image 20240610150913.png]]
*Comparison of VMs vs. Containers*

The OS defines isolated "cells" for each user instance to run in. Each cell or container is allocated CPU and memory resources, but the processes all run through the native OS kernel.

Containerization supports microservices and serverless architecture and is also being widely used to implement corporate workspaces on mobile devices.

Many of the vulnerabilities are related to misconfiguration issues, for example, improperly constructed images that contain non-essential software that can put the container at risk.

Any network policies should restrict access only to what is required for essential communication. Any liberal configuration might allow a malicious actor to move laterally through a container environment.

The admin should also monitor security-relevant container activities such as process activity, along with network communications among containerized services, as well as between containerized services and external clients and servers.

Properly manage the secrets such as API keys, tokens, and passwords, to mitigate container security risks and vulnerabilities. Consider using a secrets management tool and make sure deployments mount only the secrets they actually need.

Improperly configured virtual environments can lead to an attack, as we’ll see next.

### Attacking a Virtual Environment
---
Virtual environments can fall victim to an attack. The attacks can range in the type of attack and what environment is affected, as follows:

Class 1 – the attack happens outside of the VM.

Class 2 – the attack directly affects a VM.

Class 3 – the attack originates within the VM and is the attack source.

Virtual environments are designed to provide full isolation between guest and host operating systems. However, they can fall victim to an attack known as VM escape. Let’s explore this concept.

#### Escaping a Virtual Environment
***VM escape*** is an attack where malware running in a VM is able to interact directly with the hypervisor or host kernel. For this attack to take place, the malicious actor must detect the presence of a virtualized environment. The next step in is for the attacker to compromise the hypervisor.

One serious implication of VM escape is where virtualization is used for hosted applications. If you have a hosted web server, apart from trusting the hosting provider with your data, you have no idea what other applications might be running in other customers' VMs.

For example, consider a scenario where you have an e-commerce web server installed on a virtual server leased from an ISP.

- If a third-party installs another guest OS with malware that can subvert the virtual server's hypervisor, they might be able to gain access to your server or to data held in the memory of the physical server.
- Having compromised the hypervisor, they could make a copy of your server image and download it to any location. This would allow the attacker to steal any unencrypted data held on the e-commerce server.
- Even worse, it could conceivably allow them to steal encrypted data, by obtaining the private encryption keys stored on the server or by sniffing unencrypted data or a data encryption key from the physical server's memory.

Preventing a VM escape attack is dependent on the virtualization vendor identifying security vulnerabilities in the hypervisor and on these being patched. The impact of VM escaping can be reduced by using effective service design and network placement when deploying VMs.

Additionally, design the VM architecture carefully so that the placement of VMs running different types of applications with different security requirements does not raise unnecessary risks.

For example, when considering security zones such as a DMZ, VMs providing front-end and middleware/back-end services should be separated to different physical hosts. This reduces the security implications of a VM escaping attack on a host in the DMZ (which will generally be more vulnerable to such attacks).

Another potential issue is compromising or hijacking the hypervisor.

#### Hyperjacking the Hypervisor
A **hypervisor** is software or firmware that creates and manages virtual machines on the host and facilitates interaction with the computer hardware and network. Hypervisors are generally regarded as well-protected and robust. However, they can suffer from vulnerabilities as well.

Hyperjacking is when a malicious actor takes control of the hypervisor that manages a virtual environment. Once the malicious actor has taken control of the hypervisor, they will have all the required privileges and can take full control of the environment. In addition, they will be able to access every VM along with the data stored on them and can then use any guest OS as a staging ground to attack other guests.

Hyperjacking can have serious implications. As a result, it’s best to avoid this attack. Monitor security bulletins for the hypervisor software that you operate and to install patches and updates promptly.
